---
title: "pythonで仮想環境を作るメリットと手順"
slug: "python-myenv-process"
emoji: "🗂"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [python, 仮想環境, requirements, pip]
published: true
---
本日はPythonの仮想環境のアウトプットです。

仮想環境とは、プロジェクトごとに独立した実行環境を提供する仕組みです。
Pythonで何かプロジェクトを立ち上げる時は、システム（例えば、自分のクライアントPC）とは別でバーチャル環境で環境構築しましょうって話です。
## 仮想環境のメリット
### 1. 依存関係の分離
インストールしたライブラリが他のプロジェクトに影響しないことです。依存関係については別途記事にまとめます。
### 2. システム全体への影響
Python以外の言語でも同様かもしれませんが、プロジェクトごとにライブラリの依存関係を管理することで、他のプロジェクトやシステム全体に影響を与えることなく作業を進めることができます。
### 3. バージョン管理が簡単
インストールしたライブラリなどのバージョン管理は、`requirements.txt`ファイルに記載すると管理が楽です。
このファイルに記載しておくと、他の人が見た時に「ここにはパッケージやライブラリのバージョン管理がされてるんだな」とわかるので、慣例として作成しておきましょう♪
```bash
# 実行コマンド
pip freeze > requirements.txt
```
`pip freeze`: 現在の仮想環境内の全てのインストール済みパッケージとそのバージョンをリスト化。
`requirements.txt`：上記のリストをこのファイルに書き出します。ない場合は、新たに作成します。便利。
## 仮想環境構築の手順
**前提：macOS/Linux:**
### 1. 仮想環境の作成
Pythonの標準ライブラリには仮想環境を作成するための venv モジュールが含まれています。
venvは、システム（自分のクライアントPC）とは別でPythonの仮想環境を作成・管理するためのモジュールです。

以下のコマンドで仮想環境を作成。
```bash
python -m venv myenv
```
**myenv は仮想環境の名前で、任意の名前を付けることができます。**

### 2. 仮想環境のアクティブ化
仮想環境を作成したら、それをアクティブにする必要があります。以下のコマンドを実行します。
```bash
source myenv/bin/activate
```
アクティブ化すると、コマンドラインのプロンプトに仮想環境の名前が表示されます。
![](https://storage.googleapis.com/zenn-user-upload/2bece40266bc-20240823.png)
### 3. 必要なライブラリのインストール
今回の要件は以下。
・PythonでWebサイトをスクレイピングす流ために、requestsとbeautifulsoup4が必要。
・取得したデータを、スプレッドシートに保存するために、gspread oauth2clientが必要。

ということで、仮想環境がアクティブな状態で、上記4つのライブラリをインストールします。
```bash
pip install requests beautifulsoup4 gspread oauth2client
```
### 4. スクリプトの実行
仮想環境がアクティブな状態で、Pythonスクリプトを実行します。
```bash
python ファイル名.py
```
### 5. 仮想環境の非アクティブ化
作業が終わったら、仮想環境を非アクティブ化します。
```bash
deactivate
```
仮想環境のセットアップから有効/無効の切り替えは慣れるとすぐできるようになるので、ぜひ試してみたくださいませ。
## 最後に
少しでも参考になれば嬉しいです！ありがとうございました！

ーーーーーーーーーーーー
普段はフリーランスのDXプログラマー＆マークアップコーダーとして稼働しています！
現在、2社協業中！
https://shuto-work.notion.site/Profile-232ee534179a418cbd913d36204c00ae